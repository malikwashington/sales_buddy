{% extends "loggedin.html" %} 


{% block title %}Contacts{% endblock %} 



{% block nr_extra %}
<li class="nav-item">
  <a 
  data-bs-toggle="modal" 
  data-bs-target="#newContactModal" 
  class="nav-link"
  href="#">
  Create New Contact
</a>
</li>
{% endblock %}

  {% block body%}
    
  
<!-- <div id="sidebar" class="sidebar bg-light"></div> -->
<h1>Contacts</h1>
<br />
<br />
<label for="searchTable" class="col-2">Search</label>
<input type="text" id="searchTable" class="form-control col-4" onkeyup="searchTable()" placeholder="Search for names..">
<div class="container overflow-auto mt-0 mb-5 pt-0 pb-5">
  <script src="https://www.kryogenix.org/code/browser/sorttable/sorttable.js"></script>
  <div class="table-responsive">
    <div class="row m-2 mb-5">
    </div>
  <table
    id="myTable2"
    class="sortable table table-striped table-dark table-hover"
  >
    <thead class="sticky">
      <tr>
        <!-- <th scope="col">Priority</th> -->
        <th scope="col">First Name</th>
        <th scope="col">Last Name</th>
        <th scope="col">Email</th>
        <th scope="col">Phone</th>
        <th scope="col">Company</th>
        <th scope="col">Last Contacted</th>
      </tr>
    </thead>
    <tbody>
        {% for contact in current_user.contacts %}
      <tr
        onclick="openForm(id)"
        id="{{contact.contact_id}}"
        name="{{loop.index}}"
        data-bs-toggle="modal"
        data-bs-target="#contactDetailModal"
        >
        <!-- <td >{{contact.priority}}</td> -->
        <td>{{contact.f_name}}</td>
        <td>{{contact.l_name or ''}}</td>
        <td>{{contact.email or ''}}</td>
        <td>{{contact.phone or ''}}</td>
        <td>{{contact.company or ''}}</td>
        <td>{{contact.last_contacted or ''}}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  </div>
</div>
{% include './modals/contact_detail_modal.html' %}
{% include './modals/edit_contact_modal.html' %}
{% include './modals/new_contact_modal.html' %}
{% include './modals/call_in_progress_modal.html' %}
{% include './modals/confirmation_modal.html' %}
{% include './modals/dial_modal.html' %}
{% include './modals/call_in_progress_modal.html' %}
{% include './modals/text_modal.html' %}
{% include './modals/incoming_call_modal.html' %}
{% endblock %} 




{% block scripts %}
<script src="../static/js/contacts.js"></script>

{% endblock %}
